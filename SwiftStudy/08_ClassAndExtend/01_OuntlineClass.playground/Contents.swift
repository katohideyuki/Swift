import UIKit

// 8-1 ã‚¯ãƒ©ã‚¹ã®å®šç¾©

/**
 -----------------------------------------------------------------
 â–  ã‚¯ãƒ©ã‚¹ã®æ¦‚è¦
 æ§‹é€ ä½“ã€ã‚¿ãƒ—ãƒ«ã€åˆ—æŒ™å‹ã¯å€¤å‹ã®ãƒ‡ãƒ¼ã‚¿ã€‚ã¤ã¾ã‚Šã€å€¤ã‚’ãã®ã¾ã¾ç”Ÿã®çŠ¶æ…‹ã§æ‰±ã†ã€‚
 ã‚¯ãƒ©ã‚¹ã¯å‚ç…§å‹ã€‚å€¤ãŒãƒ¡ãƒ¢ãƒªä¸Šã®ã©ã£ã‹ã«ä¿ç®¡ã•ã‚ŒãŸå ´æ‰€ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ä½¿ã£ã¦ã€æ“ä½œã—ã¦ã„
 ãã€‚
 ã–ã£ãã‚Šã¨ã—ãŸåŒºåˆ¥ã¨ã—ã¦ã€ã²ã¨ã¾ã¨ã¾ã‚Šã®æ„å‘³ã®ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¾ã™ã‚‹ã¨ãã¯æ§‹é€ ä½“ã€‚
 ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹æˆã™ã‚‹æ§‹é€ ã‚„ã€ä½•ã‹å½¹å‰²ãŒã‚ã£ã¦èƒ½å‹•çš„ã«å‹•ä½œã™ã‚‹å‡¦ç†ãªã©ã¯ã‚¯ãƒ©ã‚¹ã€‚
 (ãƒ”ãƒ³ã¨ã“ãªã„ã€‚ã€‚ï¼‰
 ã‚¯ãƒ©ã‚¹ã¯ã€å…¨é …ç›®ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã¯ä½¿ãˆãªã„ã€‚(ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆæ™‚ã«ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’åˆæœŸåŒ–
 ã™ã‚‹ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¿ãŸã„ãªã‚„ã¤)ã€‚
 ãŸã ã—ã€æ—¢å®šã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ãªã‚‰ä½¿ãˆã‚‹ã€‚ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆæ™‚ã«ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®åˆæœŸåŒ–
 ãŒå¿…è¦ãªãã€`ã‚¯ãƒ©ã‚¹å()`ã§å®šç¾©ã§ãã‚‹ã‚„ã¤)
 æ§‹é€ ä½“ã¯å€¤å‹ã®ãƒ‡ãƒ¼ã‚¿ã ã‹ã‚‰ã€å€¤ãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã¯`mutating`ã¨ã„ã†
 ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ã¤ã‘ã‚‹ãŒã€ã‚¯ãƒ©ã‚¹ã«ã¯ä¸è¦ã€‚`var`ã‚„`let`ã§å®šç¾©ã—ã‚ˆã†ãŒå€¤ã¯å¤‰ãˆã‚‰ã‚Œã‚‹ã€‚
 ã¨ã¯ã„ãˆã€å€¤ã‚’å¤‰æ›´ã•ã›ãŸããªã„æ™‚ã«ä½¿ã†ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã“ã®å…ˆã®èª¬æ˜ã§ã§ã¦ãã‚‹ã ã‚ã†ã¨
 äºˆæƒ³ã€‚ã€‚
 -----------------------------------------------------------------
 */

/// æ™‚é–“ã¨åˆ†ã‚’æŒã¤ã‚¯ãƒ©ã‚¹
class Time {
    // åˆæœŸåŒ–ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹
    var hour = 0, min = 0

    //  ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶
    init(hour: Int, min: Int) {
        self.hour = hour; self.min = min;
    }

    /// æŒ‡å®šã—ãŸçµŒéæ™‚é–“ã®æ–°ã—ã„æ™‚åˆ»ã‚’æŒã¤Timeå‹ã‚’è¿”å´
    /// - Parameter min: åˆ†
    func advance(min: Int) {
        let m = self.min + min      // åŠ ç®—

        // åˆ†ãŒ60åˆ†ä»¥ä¸Šã§ã‚ã‚Œã°æ™‚é–“ã«å¤‰æ›
        if m >= 60 {
            self.min = m % 60
            let t = self.hour + m / 60
            self.hour = t % 24
        } else {
            // åˆ†ãŒ60åˆ†æœªæº€ã§ã‚ã‚Œã°ãã®ã¾ã¾
            self.min = m
        }
    }

    /// 1åˆ†åŠ ç®—
    func inc() { self.advance(min: 1) }
    /// å‡ºåŠ›ç”¨
    func toString() -> String {
        let h = hour < 10 ? " \(hour)": "\(hour)"
        let m = min  < 10 ? " \(min)" : "\(min)"
        return h + ":" + m
    }
}

æ¤œè¨¼: do {
    let t1 = Time(hour: 13, min: 20)
    let t2 = t1
    let t3 = Time(hour: 30, min: 00)
    print(String(format: "t1ã®æ™‚é–“ ğŸ‘‰ %@", t1.toString()))        // 13:20
    t1.inc()                                                     // t1ã«1åˆ†åŠ ç®—
    print(String(format: "t2ã®æ™‚é–“ ğŸ‘‰ %@", t2.toString()))        // 13:21 (t1ã‚’å¤‰ãˆã‚Œã°ã€t2ã‚‚å¤‰ã‚ã‚‹)
    print(String(format: "t3ã®æ™‚é–“ ğŸ‘‰ %@", t3.toString()))        // 30: 0 â€»è¡¨ç¾ãŒãŠã‹ã—ã„
}
/**
 -----------------------------------------------------------------
 â–  ç¶™æ‰¿ã«ã‚ˆã‚‹ã‚¯ãƒ©ã‚¹å®šç¾©ã®ä¾‹
 ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã¨åŒæ™‚ã«ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’æŒ‡å®šã™ã‚‹å ´åˆã€å…ˆã«ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã‚’æ›¸ãã€ãã®å¾Œã«
 ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’ã€Œ,ã€ã§åŒºåˆ‡ã£ã¦æ›¸ãã€‚
 `class ã‚¯ãƒ©ã‚¹å: ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹å, ãƒ—ãƒ­ãƒˆã‚³ãƒ«1, ãƒ—ãƒ­ãƒˆã‚³ãƒ«2`
 ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãªã©ã‚’ä¸Šæ›¸ãã™ã‚‹å ´åˆã¯`override`ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’
 ã¤ã‘ã‚‹ã€‚
 ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€ã¾ãšsuper.initã‚’å‘¼ã¶å¿…è¦ãŒã‚ã‚‹ã€‚
 ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¶ã‚’å‘¼ã³å‡ºã—ã¦ãŠãã€‚
 `convenience`ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã¯ã€ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã®ä¸­ã§åˆ¥ã®ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã‚’å‘¼ã¶æ™‚ã«
 ã¤ã‘ã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã€‚
 -----------------------------------------------------------------
 */

class Time12: Time, CustomStringConvertible {
    var pm: Bool        // æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°ã€‚åˆå¾Œãªã‚‰true

    /// ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã«ã¯ãªã„æ–°ã—ã„ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶
    /// - Parameters:
    ///   - hour: æ™‚é–“
    ///   - min: åˆ†
    ///   - pm: trueãªã‚‰PM
    init(hour: Int, min: Int, pm: Bool) {
        self.pm = pm
        super.init(hour: hour, min: min)
    }
    /// ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã®ä¸­ã§ã•ã‚‰ã«ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã‚’å‘¼ã¶
    /// PMã‹AMã‹ã‚’è‡ªå‹•ã§åˆ¤å®šã™ã‚‹ã€‚
    /// - Parameters:
    ///   - hour: æ™‚é–“
    ///   - min: åˆ†
    override convenience init(hour: Int, min: Int) {
        let isPm = hour >= 12
        self.init(hour: isPm ? hour - 12: hour, min: min, pm: isPm)
    }

    /// å®šã—ãŸçµŒéæ™‚é–“ã®æ–°ã—ã„æ™‚åˆ»ã‚’æŒã¤Timeå‹ã‚’è¿”å´
    /// - Parameter min: åˆ†
    override func advance(min: Int) {
        super.advance(min: min)
        // 12æ™‚ä»¥ä¸Šã§ã‚ã‚Œã°ã€12æ™‚æœªæº€ã«ãªã‚‹ã¾ã§å¤‰æ›ã•ã‚Œç¶šã‘ã‚‹
        while hour >= 12 {
            hour -= 12
            pm = !pm
        }
    }
    /// ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã§å®šç¾©ã—ã¦ã‚‹toStringã‚’ä½¿ç”¨
    var description: String {
        return toString() + " " + (pm ? "PM": "AM")
    }
}

æ¤œè¨¼: do {
    var t1 = Time12(hour: 18, min: 30, pm: true)
    print(t1)                           // 18:30 PM â€»ãŠã‹ã—ãªæ™‚é–“è¡¨ç¾ã«ãªã£ã¦ã„ã‚‹ã€‚ã€‚

    var t2 = Time12(hour: 50, min: 00)  // 50æ™‚00åˆ†
    t2.advance(min: 10)                 // 10åˆ†åŠ ç®—
    print(t2)                           //  2:10 AM â€»advanceã§12æœªæº€ãªã‚‹ã¾ã§å¤‰æ›ã•ã‚Œç¶šã‘ã‚‹ãŸã‚ã€æ·±å¤œ2:10ã¨ã„ã†è¡¨ç¾ã«ãªã‚‹
}

/**
 -----------------------------------------------------------------
 â–  å‹•çš„çµåˆã¨ã‚­ãƒ£ã‚¹ãƒˆ
 æ¼”ç®—å­isã¯ã€`ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ is å‹`ã¨è¨˜è¿°ã—ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå³å´ã®å‹ã¾ãŸã¯ãã®ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§
 ã‚ã‚Œã°trueã‚’è¿”ã™ã€‚ã¾ãŸã€Swiftã§ã‚­ãƒ£ã‚¹ãƒˆã™ã‚‹ã¨ãã¯ `ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ as å‹`ã¨è¨˜è¿°ã—ã€
 ä»–ã®æ›¸ãæ–¹ã§`as?, as!`ãªã©ã‚‚ã‚ã‚‹ã€‚`as?`ã§ã‚ã‚Œã°ã€ã‚­ãƒ£ã‚¹ãƒˆãŒæ­£ã—ãè¡Œã‚ã‚ŒãŸå ´åˆ
 ã«ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹è‡ªèº«ã‚’è¿”ã™ãŒã€å¤±æ•—ã—ãŸå ´åˆ`nil`ã‚’è¿”ã™ã€‚
 ã¤ã¾ã‚Šã€è¿”ã™å‹ã¯`ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å‹`ã ã¨ã„ã†ã“ã¨ã€‚
 -----------------------------------------------------------------
 */
Timeå‹ã¨Time12å‹ã‚’æ‰±ã†: do {
    var array = [Time]()
    array.append(Time(hour: 13, min: 10))
    array.append(Time12(hour: 13, min: 20))
    array.append(Time12(hour: 1, min: 30, pm: true))

    for t in array {
        // Time12å‹ãªã‚‰printã‚’ä½¿ã†
        if t is Time12 {
            print(t)
        // ãã†ã§ãªã‘ã‚Œã°å…ˆé ­ã«">"ã‚’å°å­—
        } else {
            print("Time12å‹ã§ã¯ãªã„ã‚ˆ ğŸ‘‰ ", t.toString())
        }
    }

    // ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«æŸç¸›æ§‹æ–‡ã§å‡ºåŠ›ã™ã‚‹
    if let u = array[2] as? Time12 {
        print(u.pm ? "PM": "AM")                // Timeå‹ã‚’Time12å‹ã«ã‚­ãƒ£ã‚¹ãƒˆã—ã¦æ‰±ã†
    }

    // ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«æŸç¸›æ§‹æ–‡ã§nilã ã‹ã‚‰å‡ºåŠ›ã•ã‚Œãªã„
    if let v = array[0] as? Time12 {
        print(v.pm ? "PM": "AM")                // Time12å‹ã§ã¯ãªã„ã‹ã‚‰ã€å‡ºåŠ›ã•ã‚Œãªã„
    }
}

/**
 -----------------------------------------------------------------
 â–  ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
 æ§‹é€ ä½“ã¨åˆ—æŒ™å‹ã«ã¯ã‚¿ã‚¤ãƒ—ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¿ã‚¤ãƒ—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒã‚ã‚Šã€ãã®å‹ã«é–¢ä¿‚ã™ã‚‹æ‰‹ç¶šã
 ã‚„å€¤ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ããŸã€‚ã“ã‚Œã‚‰ã‚’æ›¸ãæ™‚`static`ã‚’ã¤ã‘ã¦ã„ãŸã€‚
 ã‚¯ãƒ©ã‚¹ã®å ´åˆã€ã‚¿ã‚¤ãƒ—ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¿ã‚¤ãƒ—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ›¸ãæ™‚ã«`class`ã‚’ã¤ã‘ã‚‹ã¨ã€ç¶™æ‰¿
 ã—ãŸã‚µãƒ–ã‚¯ãƒ©ã‚¹ã§å®šç¾©ã‚’ä¸Šæ›¸ãã§ãã‚‹ã€‚ãã‚Œã‚‰ã®ã“ã¨ã‚’ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã€ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
 ã¨å‘¼ã¶ã€‚ï¼ˆ`class`ã¨ã¤ã‘ãªã„ã‚¿ã‚¤ãƒ—ãƒ¡ã‚½ãƒƒãƒ‰ã‚„ã‚¿ã‚¤ãƒ—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ä¸Šæ›¸ãã§ããªã„ï¼‰

 -----------------------------------------------------------------
 */
ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ä¾‹: do {
    // ã‚¢ã‚¯ã‚»ã‚¹ä¿®é£¾å­ã‚’çœç•¥ã—ãŸå ´åˆã¯ã€Œinternalã€ã«ãªã‚‹ã€‚
    class SuperA: CustomStringConvertible {
        static var className : String { return "A" }        // è¨ˆç®—å‹ã‚¿ã‚¤ãƒ—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
        static var total = 0                                // æ ¼ç´å‹ã‚¿ã‚¤ãƒ—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
        class var level: Int { return 2 }                   // è¨ˆç®—å‹ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£

        /// - Returns: 1,000ã‚’è¿”ã™
        static func point() -> Int { return 1000 }         // ã‚¿ã‚¤ãƒ—ãƒ¡ã‚½ãƒƒãƒ‰
        /// - Returns: levelã‹ã‚‰1å¼•ã„ãŸå€¤ã«ç´ã¥ãæ–‡å­—åˆ—ã‚’è¿”ã™
        class func say() -> String {
            return ["1st", "2nd", "3rd"][self.level - 1]    // ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰
        }
        /// - Returns:
        class subscript(i: Int) -> String {
            return ["ä»¤å’Œ", "å¹³æˆ", "æ˜­å’Œ"][i]                // ã‚¯ãƒ©ã‚¹ã¸ã®æ·»å­—ä»˜ã‘
        }
        // ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶
        init() { SuperA.total += 1 }

        /// å‡ºåŠ›ç”¨
        var description: String {
            return "\(SuperA.total): \(SuperA.className), "
                + "Level=\(SuperA.level), \(SuperA.point())pt, \(SuperA.say())"
        }
    }

    /// <#Description#>
    class SubB: SuperA {
        /// ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ â€»ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã‚’å‘¼ã³å‡ºã™
        override init() { super.init(); SubB.total += 1 }

        /// å‡ºåŠ›ç”¨ â€»ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®descriptinoã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
        override var description: String {
            return "\(SubB.total): \(SuperA.className), "
                        + "Level=\(SuperA.level), \(SuperA.point())pt, \(SuperA.say())"
        }
    }

    // æ¤œè¨¼
    let a = SuperA()
    print("SuperA ğŸ‘‰ \(a)")     // 1: A, Level=2, 1000pt, 2nd
    let b = SubB()
    print("SubB ğŸ‘‰ \(b)")       // 3: A, Level=2, 1000pt, 2nd
    print(SubB[0])              // ä»¤å’Œ

    // ã‚ã‚‹å‹(class/struct)ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã£ã¦å‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¶ã«ã¯ type(of:)é–¢æ•°ã‚’ä½¿ã‚ãªã„ã¨ã„ã‘ãªã„
    type(of: a).level

    // å‘¼ã¹ãªã„ â€»Static member 'level' cannot be used on instance of type 'SuperA'
//    a.level

    /// ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã‚¯ãƒ©ã‚¹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä¸Šæ›¸ãã™ã‚‹
    class SubC : SuperA {
        override class var level: Int { return 2 }
        /// - Returns: levelã‹ã‚‰1å¼•ã„ãŸå€¤ã«ç´ã¥ãæ–‡å­—åˆ—ã‚’è¿”ã™
        override class func say() -> String {
            return ["åˆç´š", "ä¸­ç´š", "ä¸Šç´š"][self.level - 1]
        }
        /// å¼•æ•°ã®å€¤ã«ã‚ˆã£ã¦ã€ã€Œè¦ª/å­ã€ã©ã¡ã‚‰ã‹ã®subscriptã‚’ä½¿ç”¨
        override class subscript (i: Int) -> String {
            // å¼•æ•°ãŒ3ã‚ˆã‚Šå°ã•ã„ãªã‚‰ã€è¦ªã‚¯ãƒ©ã‚¹ã®subscript
            if i < 3 { return super[i] }
            return ["å¤§æ­£", "æ˜æ²»", "æ…¶æ‡‰"][i - 3]
        }
        /// ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ â€»ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ‹ã‚·ãƒ£ãƒ©ã‚¤ã‚¶ã‚’å‘¼ã³å‡ºã™
        override init() { super.init(); SubC.total += 1 }

        /// å‡ºåŠ›ç”¨ â€»ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã®descriptinoã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
        override var description: String {
            return "\(SubC.total): \(SubC.className), "
            + "Level=\(SubC.level), \(SubC.point())pt, \(SubC.say())"
        }
    }

    // æ¤œè¨¼   
    let aa = SuperA()
    print("SuperA ğŸ‘‰ \(aa)")        // 4: A, Level=2, 1000pt, 2nd
    let c = SubC()
    print("SubC ğŸ‘‰ \(c)")           // 6: A, Level=2, 1000pt, ä¸­ç´š
    print("è¦ªã®subscript ğŸ‘‰ \(SubC[2]), å­ã®subscript ğŸ‘‰ \(SubC[3])")         // æ˜­å’Œ å¤§æ­£
}

/**
 -----------------------------------------------------------------
 â–  ç¶™æ‰¿ã¨ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—
 ç¶™æ‰¿é–¢ä¿‚ã«ã‚ã‚‹è¤‡æ•°ã®ã‚¯ãƒ©ã‚¹ãŒå­˜åœ¨ã™ã‚‹å ´åˆã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ã‚’
 è¡Œã£ãŸæ™‚ã€ã©ã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã‚Œã‚‹ã‹ã€‚
 -----------------------------------------------------------------
 */
ç¶™æ‰¿é–¢ä¿‚ã®ã‚ã‚‹å ´åˆã®ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—ã®ä¾‹: do {
    class A {
        func show() { print("A") }
        func who()  { show() }       // showã®å‘¼ã³å‡ºã—
    }

    /// ã‚¯ãƒ©ã‚¹Aã‚’ç¶™æ‰¿
    class B: A {
        override func show() { print("B") }
    }

    // æ¤œè¨¼
    var a = A()
    var b = B()
    a.who()                         // A
    b.who()                         // B
}

ç¶™æ‰¿é–¢ä¿‚ã®ã‚ã‚‹å ´åˆã®ã‚¯ãƒ©ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã®å‘¼ã³å‡ºã—ã®ä¾‹: do {
    class A {
        class func show() { print("A") }
        class func who()  { show() }
    }
    /// ã‚¯ãƒ©ã‚¹Aã‚’ç¶™æ‰¿
    class B: A {
        override class func show() { print("B") }
    }

    // æ¤œè¨¼
    A.who()                         // A
    B.who()                         // B
}
